-- Active: 1661520273551@@127.0.0.1@3306@atividade_bd
Active: 1661520273551@@127.0.0.1@3306@atividade_bd

CREATE TABLE tipo_usuario (
cod_tipuser int AUTO_INCREMENT PRIMARY KEY,
desc_tipuser varchar(250) NOT NULL
-- );
INSERT INTO tipo_usuario(desc_tipuser) VALUES ("Voluntarios"), ("Doador")

CREATE TABLE midia (
titulo_midia varchar(100) NOT NULL,
caminho_midia varchar(250) NOT NULL,
cod_midia int AUTO_INCREMENT PRIMARY KEY,
cod_postagem int
);
INSERT INTO midia (titulo_midia,caminho_midia,cod_postagem) VALUES ("Ongs Brasileiras","media_new_path",1),("Ongs agindo na africa","media_new_path",2),("Entenda a importancia das ongs","media_new_path",3),("Melhores ongs","media_new_path",4),("Parceria entre as ongs","media_new_path",5),("Ongs vunerable","media_new_path",6),("A importancia das Ongs na pandemia","media_new_path",7),("Premio melhores ongs","media_new_path",8),("Melhores Ongs do Brasil","media_new_path",9),("Ongs americanas","media_new_path",10);

CREATE TABLE ong (
email_ong varchar(250) NOT NULL UNIQUE,
telefone_ong varchar(14) NOT NULL,
nome_ong varchar(100) NOT NULL,
cod_ong int AUTO_INCREMENT PRIMARY KEY
);
INSERT INTO ong (email_ong,telefone_ong,nome_ong) VALUES ("aacd2020@gmail.com",11926347890,"AACD"),("vivario@gmail.com",47987604562,"Viva Rio"),("transparenciabrasil@gmail.com",49913245768,"Transparencia Brasil),("abrinqfundacao123@gmail.com",42989076584,"Abrinq Fundação"),("ipamongsbrasil@gmail.com",47992844947,"IPAM"),("saudecrinaca2022@gmail.com",49999664488,"Saúde Criaça"),("intitutodacriança",4799947312,"Instituto da Criança"),("brasilvetor50@gmail.com",49984691808,"Vetor Brasil"),("centrodeinclusaodigital@gmail.com",11984657994,"Centro de Inclusão Digital"),("fundacaosos@gmail.com",47988076512,"Fundação SOS Mata Atlantica");

CREATE TABLE usuario (
idade int NOT NULL,
nome varchar(250) NOT NULL,
email varchar(250) NOT NULL UNIQUE,
cod_usuario int AUTO_INCREMENT PRIMARY KEY,
telefone varchar(14) NOT NULL,
cod_tipuser int,
FOREIGN KEY(cod_tipuser) REFERENCES tipo_usuario (cod_tipuser)
);

INSERT INTO usuario(idade, nome, email, telefone, cod_tipuser) VALUES (18,"Heloisa Bett","heloisabett@gmail.com",47998745632,1), (20,"Julia Ramos", "ramosjulia2003@gmail.com", 479988471141,2),(32,"Roberto Claudio", "robertocludio20@gmail.com",47998876540,1),(20,"Davy Moreira", "flp.dvy@gmail.com", 47984744190,1), (24,"Rafaella Albano", "rafaelaalbano70@gmail.com",479995186088,2), (35,"Lara Rodrigues","lariro@gmail.com", 48987452398, 2), (34, "Pedro Camargo", "pedrinho123@gmail.com", 47996785430, 1), (21,"Luiza Santos", "santalu@gmail.com", 48988449191, 2), (41,"Cleiton Martin", "bertinho123@gmail.com", 48988554441, 2), (17, "Lucas Almeida", "lucasalmeida@gmail.com", 48999345567, 1);


CREATE TABLE postagem (
titulo_postagem varchar(100) NOT NULL,
categoria varchar(100) NOT NULL,
cod_postagem int AUTO_INCREMENT PRIMARY KEY,
texto_postagem varchar(1000) NOT NULL,
cod_usuario int,
cod_ong int,
FOREIGN KEY(cod_usuario) REFERENCES usuario (cod_usuario),
FOREIGN KEY(cod_ong) REFERENCES ong (cod_ong)
);
ISERT INTO postagem(titulo_postagem,categoria,texto_postagem) VALUES ("Ongs alertam","alerta","ONGS alertam que milhões de crianças no mundo podem morrer de fome"),("ONGs palestinas","Noticia","ONGs palestinas acusam Israel de tentativa de “silenciar defensores dos direitos humanos”"),("Jovens bolsistas chegam a universidades de ponta com apoio de ONGs","Notica","Instituto Ponte e Associação Cactus realizaram evento em São Paulo para celebrar o êxito de alunos oriundos de escola pública"),("EUA e UE mostram preocupação com fechamento de escritórios de ONGs palestinas por Israel","Alerta","Estados Unidos e União Europeia mostraram preocupação depois que forças israelenses invadiram e fecharam os escritórios de sete ONGs em Ramallah, sede da Autoridade Palestina na Cisjordânia, nesta quinta-feira pela manhã."),("Projeto proíbe","notica","Projeto proíbe parcerias entre administração pública e ONGs que promovam aborto"),("Doações despencam","Novidade","Doações despencam em meio ao aumento da fome, e ONGs diminuem número de marmitas"),("Projeto proibe","News","Projeto proíbe parcerias entre administração pública e ONGs que promovam aborto"),("ONGs angolanas","Risco","Organizações cívicas angolanas acusam partidos políticos de aliciarem os seus membros em troca de votos nas eleições gerais da próxima semana."),("Fechamento de ongs","Global","Cresce rejeição global ao fechamento de ONGs palestinas por Israel",("Ongs: dominação e crimes","urgente","Todas as organizações não-governamentais (ONGs) atuantes na Amazônia receberam no dia 3 de julho prazo de 120 dias para recadastramento pelo Ministério da Justiça."),("Servidores e ONGs","movimentos","Servidores e ONGs de Nova Odessa vão receber R$ 7 mi de verba de multa trabalhista");

CREATE TABLE curtir (
cod_postagem int,
cod_usuario int,
dathora_curtir timestamp NOT NULL,
FOREIGN KEY(cod_postagem) REFERENCES postagem (cod_postagem),
FOREIGN KEY(cod_usuario) REFERENCES usuario (cod_usuario)
);


CREATE TABLE comenta (
cod_postagem int,
cod_usuario int,
dathora_coment timestamp NOT NULL,
texto_coment varchar(250) NOT NULL,
FOREIGN KEY(cod_postagem) REFERENCES postagem (cod_postagem),
FOREIGN KEY(cod_usuario) REFERENCES usuario (cod_usuario)
);


CREATE TABLE doacao (
cod_ong int,
cod_usuario int,
dt_doacao date NOT NULL,
valor_doacao decimal(10,2) NOT NULL,
FOREIGN KEY(cod_ong) REFERENCES ong (cod_ong),
FOREIGN KEY(cod_usuario) REFERENCES usuario (cod_usuario)
);

CREATE TABLE voluntario (
cod_ong int,
cod_usuario int,
dt_voluntario date NOT NULL,
FOREIGN KEY(cod_ong) REFERENCES ong (cod_ong),
FOREIGN KEY(cod_usuario) REFERENCES usuario (cod_usuario)
);

ALTER TABLE midia ADD FOREIGN KEY(cod_postagem) REFERENCES postagem (cod_postagem);
